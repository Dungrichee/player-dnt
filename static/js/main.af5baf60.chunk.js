(this["webpackJsonpplayer-dnt-example"]=this["webpackJsonpplayer-dnt-example"]||[]).push([[0],{104:function(e,t,n){e.exports=n(132)},105:function(e,t,n){},130:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);n(105);var r=n(0),a=n.n(r),i=n(27),o=n.n(i),s=n(96),l=n(193),c=n(22),u=n(80),d=n(82),p=n(199),h=n(200),f=n(201),m=n(194),g=n(195),v=n(198),y=n(136),S=n(192),b=n(8),P=n(175),E=n(176),w=n(177),C=n(178),k=n(179),T=n(180),O=n(181),A=n(182),M=n(183),I=n(184),N=n(185),R=n(186),L=n(187),B=n(188),x=n(189),F=n(190),j=n(191),D=n(69),H=n.n(D),z=n(48),Q=(n(131),n(196)),K=n(32),W={controlBar:{play:{true:"T\u1ea1m d\u1eebng",false:"Ph\xe1t"},refresh:"T\u1ea3i l\u1ea1i",mode:{record:"Xem l\u1ea1i",live:"Tr\u1ef1c ti\u1ebfp"},volume:{on:"T\u1eaft \xe2m thanh",off:"B\u1eadt \xe2m thanh"},alarm:{on:"B\u1eadt b\xe1o \u0111\u1ed9ng",off:"D\u1eebng b\xe1o \u0111\u1ed9ng",isNotSupported:"B\xe1o \u0111\u1ed9ng kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"},audio:{on:"B\u1eadt audio",off:"T\u1eaft audio",isNotSupported:"Camera kh\xf4ng h\u1ed7 tr\u1ee3 \xe2m thanh",isDeviceNotFound:"Kh\xf4ng t\xecm th\u1ea5y microphone tr\xean thi\u1ebft b\u1ecb n\xe0y"},ptz:{isSupported:"\u0110i\u1ec1u khi\u1ec3n PTZ",isNotSupported:"Camera kh\xf4ng h\u1ed7 tr\u1ee3 PTZ"},snapshot:"Ch\u1ee5p \u1ea3nh",theaterMode:{true:"Tho\xe1t ch\u1ebf \u0111\u1ed9 r\u1ea1p phim",false:"Ch\u1ebf \u0111\u1ed9 r\u1ea1p phim"},fullScreen:{true:"Tho\xe1t kh\u1ecfi to\xe0n m\xe0n h\xecnh",false:"To\xe0n m\xe0n h\xecnh"},speed:"T\u1ed1c \u0111\u1ed9 ph\xe1t",unFollow:"B\u1ecf theo d\xf5i"}},V=Object.assign(W),_={controlBar:{play:{true:"Pause",false:"Play"},refresh:"Reload",mode:{record:"Playback",live:"Live"},volume:{on:"Mute",off:"Unmute"},alarm:{on:"Start Alarm",off:"Stop Alarm",isNotSupported:"Alarm are not supported"},audio:{on:"Turn on",off:"Turn off",isNotSupported:"Microphone is not supported",isDeviceNotFound:"Microphone device not available"},ptz:{isSupported:"Control PTZ",isNotSupported:"PTZ is not supported"},snapshot:"Snapshot",theaterMode:{true:"Default view",false:"Theater mode"},fullScreen:{true:"Exit full screen",false:"Full screen"},speed:"Playback speed",unFollow:"UnFollow"}},q=Object.assign(_);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function Z(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,X(e,t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}c.a.use(u.a).use(d.a).use(s.b).init({lng:"vi",fallbackLng:"vi",debug:!1,interpolation:{escapeValue:!1},resources:{vi:{translation:V},en:{translation:q}}});var te=function(e,t){return e.filter(t)[0]},ne=function(e,t){var n=e.type,r=t.type;return("string"===typeof n||"string"===typeof r)&&n.displayName===r.displayName};function re(e,t,n,r){void 0===r&&(r=1);var i=a.a.Children.toArray(t),o=J({},(Y(n),n));return i.filter((function(e){return!e.props.disabled})).concat(e.filter((function(e){return!te(i,(function(t){return ne(t,e)}))}))).map((function(t){var n=te(e,(function(e){return ne(e,t)})),r=n?n.props:{},i=Object.assign(o,r,t.props);return a.a.cloneElement(t,i,t.props.children)})).sort((function(e,t){return(e.props.order||r)-t.props.order||r}))}var ae=Object(y.a)((function(){return{camName:{display:"block",position:"absolute",color:"#fff",top:0,left:12,right:12,textAlign:"left",paddingTop:8}}}));function ie(e){var t=ae(),n=e.cam.name,r=void 0===n?"":n;return a.a.createElement(p.a,{className:t.camName},a.a.createElement(h.a,{noWrap:!0,fontSize:16,fontWeight:600},r))}var oe,se=Object(y.a)((function(){return{loading:{color:"#fff",position:"absolute",top:"50%",left:"50%",marginLeft:-30,marginTop:-30,display:"none"},load:{display:"block"},noLoad:{display:"none"}}}));function le(e){var t,n=se(),r=e.player.waiting,i=void 0!==r&&r;return a.a.createElement(p.a,{className:Object(b.a)(n.loading,(t={},t[n.load]=i,t))},a.a.createElement(f.a,{size:60,style:{color:"#fff"}}))}function ce(e){var t=e.title,n=e.icon,r=e.placement,i=void 0===r?"top":r,o=e.disablePortal,s=void 0!==o&&o,l=e.handleClick;return a.a.createElement(p.a,null,a.a.createElement(m.a,{title:t,placement:i,PopperProps:{disablePortal:s}},a.a.createElement(g.a,{onClick:l,size:"small"},a.a.createElement(n,{fontSize:"small"}))))}function ue(e){var t=c.a.t,n=e.player,r=e.manager,i=e.controlBar;if(null!==i&&void 0!==i&&i.hidePlay)return null;var o=n.paused?t("controlBar.play.false"):t("controlBar.play.true");return a.a.createElement(ce,{title:o,icon:n.paused?P.a:E.a,handleClick:function(){var e=r.video;!n.error&&e&&(n.paused?e.handlePlay():e.handlePause())},placement:"top-start",disablePortal:!0})}function de(e){var t=e.manager.video,n=e.player,r=e.actions,i=e.cam,o=e.controlBar;if(i.status===oe.ERROR||i.status===oe.OFFLINE||null!==o&&void 0!==o&&o.hideRefresh)return null;var s=(0,c.a.t)("controlBar.refresh");return a.a.createElement(ce,{title:s,icon:w.a,handleClick:function(){t&&!n.waiting&&(n.error&&r.setError(null),t.startPlayer())},disablePortal:!0})}!function(e){e.NORMAL="normal",e.WARNING="warning",e.ERROR="error",e.OFFLINE="offline"}(oe||(oe={}));var pe=Object(y.a)((function(){return{root:{display:"flex",alignItems:"center",marginLeft:16,cursor:"pointer","&:first-child":{marginLeft:8}},disabledBadge:{backgroundColor:"#B2BEC3 !important"}}}));function he(e){var t=e.id,n=e.color,i=e.text,o=e.changeStreamMode,s=Object(r.useState)(""),l=s[0],c=s[1],u=pe();return a.a.createElement(p.a,{onClick:function(){if(l!==t)return c(t),o()},className:u.root},a.a.createElement(v.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",color:n,variant:"dot",classes:{badge:n?void 0:u.disabledBadge}}),a.a.createElement(h.a,{variant:"body2",ml:1,color:"white"},i))}function fe(e){var t=e.controlBar,n=c.a.t;if(null===t||void 0===t||!t.modeOptions)return null;var r=t.modeOptions.changeStreamMode;return a.a.createElement(p.a,{display:"flex",alignItems:"center"},a.a.createElement(he,{text:n("controlBar.mode.record"),id:"playback",changeStreamMode:r}),a.a.createElement(he,{text:n("controlBar.mode.live"),id:"live",color:"error",changeStreamMode:r}))}function me(e){var t=e.actions,n=e.player,r=e.manager,i=e.controlBar,o=c.a.t;if(null===i||void 0===i||!i.showAlarm)return null;var s=n.isAlarm?o("controlBar.alarm.off"):o("controlBar.alarm.on");return a.a.createElement(ce,{title:s,icon:n.isAlarm?C.a:k.a,handleClick:function(){try{var e,a=r.video;return n.error||null===a||void 0===a||null===(e=a.rtc)||void 0===e||!e.pc||(n.isAlarm?(a.rtc.toggleAlarm("stopAlarm"),t.stopAlarm()):(a.rtc.toggleAlarm("startAlarm"),t.startAlarm())),Promise.resolve()}catch(i){return Promise.reject(i)}}})}function ge(e){var t=e.actions,n=e.player,r=e.manager,i=e.controlBar,o=r.video,s=(0,c.a.t)("controlBar.snapshot");return null!==i&&void 0!==i&&i.hideSnapshot?null:a.a.createElement(ce,{title:s,icon:T.a,handleClick:function(){!n.error&&o&&t.snapshot()}})}function ve(e){var t=e.controlBar;if(null===t||void 0===t||!t.theaterMode)return null;var n=t.theaterMode,r=n.isTheaterMode,i=n.toggleTheaterMode,o=c.a.t,s=o(r?"controlBar.theaterMode.true":"controlBar.theaterMode.false");return a.a.createElement(ce,{title:s,icon:r?O.a:A.a,placement:"top-start",handleClick:function(){i()},disablePortal:!0})}function ye(e){var t=e.controlBar;if(null===t||void 0===t||!t.follow)return null;var n=t.follow.unFollow,r=(0,c.a.t)("controlBar.unFollow");return a.a.createElement(ce,{title:r,icon:M.a,handleClick:function(){return n()},disablePortal:!0})}function Se(e){var t=e.actions,n=e.player,r=e.manager,i=e.controlBar,o=c.a.t,s=n.isFullscreen?o("controlBar.fullScreen.true"):o("controlBar.fullScreen.false");return null!==i&&void 0!==i&&i.hideFullscreen?null:a.a.createElement(ce,{title:s,icon:n.isFullscreen?I.a:N.a,handleClick:function(){var e=r.video,a=r.rootElement;!n.error&&e&&t.toggleFullscreen(a,n)},placement:"top-end"})}var be=function(e){return H.a.error(e||"L\u1ed7i h\u1ec7 th\u1ed1ng")};function Pe(e){var t=e.cam,n=e.controlBar,r=c.a.t;if(null===n||void 0===n||!n.ptz||!t.isEnabledPTZ)return null;var i=n.ptz.togglePTZ,o=r("controlBar.ptz.isSupported");return a.a.createElement(ce,{title:o,icon:R.a,handleClick:function(){if(!t.isSupportPtz)return be(r("controlBar.ptz.isNotSupported"));i()},placement:"top-start",disablePortal:!0})}function Ee(e){var t=e.actions,n=e.player,r=e.manager,i=e.cam,o=e.controlBar,s=c.a.t;if(!i.isEnabledSpeaker||null===o||void 0===o||!o.showVolume)return null;var l=n.isMuted?s("controlBar.volume.off"):s("controlBar.volume.on");return a.a.createElement(ce,{title:l,icon:n.isMuted?L.a:B.a,handleClick:function(){try{var e,a=r.video;if(n.error||null===a||void 0===a||null===(e=a.rtc)||void 0===e||!e.pc)return Promise.resolve();if(n.isMuted){if(!i.isSupportAudio)return Promise.resolve(be(s("controlBar.audio.isNotSupported")));t.unmute(),a.muted=!1}else a.muted=!0,t.mute();return Promise.resolve()}catch(o){return Promise.reject(o)}},disablePortal:!0})}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function we(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function Ce(e){var t=e.actions,n=e.player,r=e.manager,i=e.cam,o=e.controlBar,s=c.a.t,l=n.isAudioStarting?s("controlBar.audio.off"):s("controlBar.audio.on"),u=function(){try{return Promise.resolve(we((function(){return Promise.resolve(navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}})).then((function(e){return window.localStream=e,e}))}),(function(e){return console.log({error:e}),be(s("controlBar.audio.isDeviceNotFound"))})))}catch(e){return Promise.reject(e)}};return i.isEnabledMic&&null!==o&&void 0!==o&&o.showMic?a.a.createElement(ce,{title:l,icon:n.isAudioStarting?x.a:F.a,handleClick:function(){try{var e,a=r.video;return n.error||null===a||void 0===a||null===(e=a.rtc)||void 0===e||!e.pc?Promise.resolve():Promise.resolve(function(){if(!n.isAudioStarting){if(!i.isSupportAudio){var e=be(s("controlBar.audio.isNotSupported"));return!0,e}return Promise.resolve(u()).then((function(e){e?t.startAudio():!0}))}t.stopAudio()}())}catch(o){return Promise.reject(o)}},disablePortal:!0}):null}var ke=Object(y.a)((function(){return{controlBar:{position:"absolute",display:"flex",opacity:0,visibility:"hidden",bottom:0,left:12,right:12,height:36,marginBottom:5,flexDirection:"row",transformStyle:"preserve-3d","& > div":{display:"flex",alignItems:"center",transformStyle:"preserve-3d",flexDirection:"row"},"& button":{color:"white",transformStyle:"preserve-3d"},"& > div:first-child":{flex:1},"& > div:last-child":{marginLeft:"auto"}}}}));function Te(e){var t=e.controlBar;if(null!==t&&void 0!==t&&t.hide)return null;var n=ke();return a.a.createElement(p.a,{className:n.controlBar},a.a.createElement(p.a,null,function(){var t=a.a.Children.toArray(e.children);return re([a.a.createElement(ue,{key:"play-toggle",order:1}),a.a.createElement(de,{key:"refresh",order:2}),a.a.createElement(fe,{key:"mode",order:3})],t,J({},e))}()),a.a.createElement(p.a,null,function(){var t=a.a.Children.toArray(e.children);return re([a.a.createElement(Ce,{key:"mic-toggle",order:6}),a.a.createElement(me,{key:"alarm-toggle",order:7}),a.a.createElement(Ee,{key:"volume",order:8}),a.a.createElement(Pe,{key:"ptz-toggle",order:9}),a.a.createElement(ge,{key:"snapshot",order:10}),a.a.createElement(ve,{key:"theater-mode",order:11}),a.a.createElement(ye,{key:"follow-toggle",order:12}),a.a.createElement(Se,{key:"fullscreen-toggle",order:13})],t,J({},e))}()))}var Oe=!0;function Ae(e){Oe&&console.log(e)}var Me=new(function(){function e(){}var t=e.prototype;return t.request=function(e){Ae("Fullscreen.request: request fullscreen"),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen?e.mozRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},t.exit=function(){Ae("Fullscreen.exit: exit fullscreen"),document.exitFullscreen&&document.exitFullscreen()},t.addEventListener=function(e){document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)},t.removeEventListener=function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)},Z(e,[{key:"isFullscreen",get:function(){return!!document.fullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled}}]),e}());function Ie(e){var t=e.actions;Object(r.useEffect)((function(){return Me.addEventListener(n),function(){return Me.removeEventListener(n)}}),[]);var n=function(){Me.isFullscreen||t.changeFullscreen(Me.isFullscreen)};return null}var Ne=Object(z.b)({initialState:{paused:!0,isFullscreen:!1,waiting:!1,isWsOpen:!1,isMuted:!0,isAlarm:!1,isAudioStarting:!1,isAudioNotSupport:!1,error:null},name:"playerSlice",reducers:{changeFullscreen:function(e,t){e.isFullscreen=t.payload},play:function(e){e.paused=!1,e.waiting=!1},playing:function(e){e.waiting=!1},canPlay:function(e){e.waiting=!1},canPlayThrough:function(e){e.waiting=!1},pause:function(e){e.paused=!0},waiting:function(e){e.waiting=!0},mute:function(e){e.isMuted=!0},unmute:function(e){e.isMuted=!1},startAlarm:function(e){e.isAlarm=!0},stopAlarm:function(e){e.isAlarm=!1},startAudio:function(e){e.isAudioStarting=!0},stopAudio:function(e){e.isAudioStarting=!1},setIsAudioNotSupport:function(e){e.isAudioNotSupport=!0},wsOpenSuccess:function(e){e.isWsOpen=!0,console.log("state.isWsOpen",e.isWsOpen)},setError:function(e,t){e.error=t.payload,e.waiting=!1},setPeerConnectionIssue:function(e,t){e.peerConnectionIssue=t.payload}}}),Re=Ne.reducer,Le=Ne.actions,Be=Le.wsOpenSuccess,xe={playerSlice:Re};var Fe={__proto__:null,snapshot:function(){var e=this.video.video;if(e){var t=e.videoHeight,n=e.videoWidth,r=document.createElement("canvas"),a=r.getContext("2d");if(a){r.width=n,r.height=t,a.fillRect(0,0,n,t),a.drawImage(e,0,0,n,t);var i=document.createElement("a");i.setAttribute("download","snapshot_"+(new Date).getTime()+".jpg"),i.setAttribute("href",r.toDataURL("image/URL").replace("image/png","image/octet-stream")),i.click()}}},toggleFullscreen:function(e,t){if(e)return Me.enabled&&(Me.isFullscreen&&t.isFullscreen?Me.exit():Me.request(e)),{type:"playerSlice/changeFullscreen",payload:!t.isFullscreen}}},je=function(){function e(){this.store=Object(z.a)({reducer:xe,devTools:!1}),this.video=null,this.rootElement=null}var t=e.prototype;return t.getState=function(){return this.store.getState()},t.getActions=function(){var e=this,t=this.store.dispatch,n=Object.assign({},Le,Fe);return Object.keys(n).filter((function(e){return"function"===typeof n[e]})).reduce((function(r,a){return r[a]=function(n){var r=e;return function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var o=n.apply(r,a);"undefined"!==typeof o&&t(o)}}(n[a]),r}),{})},t.subscribeToStateChange=function(e,t){t||(t=this.getState.bind(this));var n=t();this.store.subscribe((function(){var r=t();if(r!==n){var a=n;n=r,e(r,a)}}))},t.subscribeToPlayerStateChange=function(e){var t=this;return this.subscribeToStateChange(e,(function(){return t.getState().playerSlice}))},e}();function De(e){var t=e.status,n=e.error,i=e.wsOpen,o=Object(r.useState)(!1),s=o[0],l=o[1],c="",u=!1;i||(c="Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7",u=!0),t===oe.ERROR&&(c="Camera \u0111ang l\u1ed7i",u=!1),t===oe.OFFLINE&&(c="Camera \u0111ang t\u1eaft",u=!1),n&&(c=n.message);return a.a.createElement(p.a,{position:"absolute",top:"50%",left:"50%",sx:{transform:"translate(-50%, -50%)"},textAlign:"center"},s?a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{color:"white",variant:"body2",mb:3},"\u0110ang k\u1ebft n\u1ed1i \u0111\u1ebfn m\xe1y ch\u1ee7"),a.a.createElement(f.a,{style:{color:"white"},size:32})):a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{color:"white",variant:"body2",mb:2},c),!i&&u&&a.a.createElement(g.a,{onClick:function(){try{return l(!0),setTimeout((function(){l(!1)}),3200),Promise.resolve()}catch(e){return Promise.reject(e)}}},a.a.createElement(j.a,{style:{color:"white"},fontSize:"large"}))))}var He=Object(S.a)("div")({width:"100%",height:"100%",outline:"none",position:"absolute",top:0,left:0}),ze=Object(S.a)("video")({display:"block",width:"100%",height:"100%",position:"absolute",outline:0,"&::-webkit-media-controls":{display:"none !important"}}),Qe=Object(z.a)({reducer:xe,devTools:!1}),Ke=new function(){var e=this,t=this,n=this;this.connect=function(e){var n,r=e.serverAddress,a=e.debug;try{try{t.debug=a,void 0===(n=a)&&(n=!0),Oe=n,Ae({"[Signaling.connect]":"wss://dev.danateq.vn/signaling"}),t.ws=new WebSocket(r),t.ws.onopen=t.wsOnOpen,t.ws.onmessage=t.wsOnMessage}catch(i){Ae({"[Signaling.connectError]":i})}return Promise.resolve()}catch(o){return Promise.reject(o)}},this.wsAuth=function(e){try{return n.sendMessage({id:"authen",token:e}),Promise.resolve()}catch(t){return Promise.reject(t)}},this.wsOnOpen=function(){try{return console.log("wsOpen 111"),Promise.resolve()}catch(e){return Promise.reject(e)}},this.wsOnMessage=function(t){var n=JSON.parse(t.data),r=n.viewerId,a=e.rtcList.get(r);switch(n.id){case"authen":"success"===n.authenStatus&&Qe.dispatch(Be());break;case"camera":if(Ae({"[Signaling.wsOnMessage.case.camera]":a}),!a)return;a.createPcPeerConnection();break;case"viewerAccepted":if(!a)return;e.viewerResponse(n,"accepted");break;case"viewerRejected":if(!a)return;e.viewerResponse(n,"rejected");break;case"iceCandidate":if(!a)return;if(n.iceCandidate){var i=n.iceCandidate;if(i){if(!a.pc)return;a.pc.remoteDescription?a.pc.addIceCandidate({candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex}):a.iceCandidateQueue.push(i)}}break;case"viewerError":if(Ae({"[Signaling.wsOnMessage.viewerError]":{parsedMessage:n,rtc:a}}),!a)return;a.actions.setError({message:n.error});break;case"signalingError":Ae({"[Signaling.wsOnMessage.signalingError]":{parsedMessage:n}});break;default:console.warn("unrecognized message",n)}},this.addRtc=function(t,n){e.rtcList.set(t,n)},this.sendMessage=function(t){var n=JSON.stringify(t);e.ws&&e.ws.readyState===WebSocket.OPEN?e.ws.send(n):console.warn("ws.readyState != WebSocket.OPEN")},this.viewerResponse=function(t,n){if("rejected"===n){var r=t.error||" Unknown error";return console.warn("viewerResponse rejected: ",r),e.dispose(t.viewerId)}if("accepted"===n){if(!t.sdpAnswer)return;var a=t.sdpAnswer,i=t.viewerId,o=e.rtcList.get(i);return null===o||void 0===o?void 0:o.acceptOffer("answer",a)}},this.dispose=function(t){if(Ae({"[Signaling.dispose]":t}),e.close(),t){var n=e.rtcList.get(t);null===n||void 0===n||n.close()}},this.close=function(){Ae({"[Signaling.close] closed":e.timeoutId}),e.timeoutId&&(clearTimeout(e.timeoutId),e.disconnectNumber=0,e.timeoutId=void 0),e.rtcList.clear(),e.ws&&e.ws.readyState!==WebSocket.CLOSED&&e.ws.close()},this.rtcList=new Map,this.disconnectNumber=0,this.debug=!1},We=0,Ve={iceServers:[{urls:"turn:10.49.46.162:30478?transport=tcp",username:"turnuser",credential:"turnpass"}],iceTransportPolicy:"all"},_e=function(e){var t=this,n=this,r=this,a=this,i=this;this.pc=null,this.video=null,this.initTrack=function(e){Ae("RTC.initTrack, cameraId: "+i.cameraId+", viewerId: "+i.viewerId),i.video=e||i.video,Ke.sendMessage({id:"camera",cameraId:i.cameraId,viewerId:i.viewerId})},this.getNetWorkStatus=function(){i.pc&&i.pc.getStats().then((function(e){e.forEach((function(e){}))}))},this.startAudioStream=function(){try{if(!window.localStream)return Promise.resolve();var e=window.localStream;return e.getAudioTracks().forEach((function(n){var r;return null===(r=t.pc)||void 0===r?void 0:r.addTrack(n,e)})),Promise.resolve()}catch(n){return Promise.reject(n)}},this.stopAudioStream=function(){window.localStream&&window.localStream.getAudioTracks().forEach((function(e){return e.stop()}))},this.onIceCandidate=function(e){var t={id:"iceCandidate",cameraId:i.cameraId,viewerId:i.viewerId,iceCandidate:e};Ke.sendMessage(t)},this.createPcPeerConnection=function(){try{var e=we((function(){return console.log({RTCConfig:Ve}),n.pc=new RTCPeerConnection(Ve),Ae("[RTC.createPeerConnection]: "+n.pc),We+=1,setInterval(n.getNetWorkStatus,1e4),n.audioStarting&&n.startAudioStream(),n.pc.onicecandidate=function(e){e.candidate&&n.onIceCandidate(e.candidate)},n.pc.ontrack=function(e){n.video&&(n.video.srcObject=e.streams[0])},n.pc.onicecandidateerror=function(e){Ae({"[RTC.onicecandidateerror]":e}),n.actions.setError({message:e.errorText||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"})},n.pc.onconnectionstatechange=function(e){var t,r=0;if("disconnected"===(null===(t=n.pc)||void 0===t?void 0:t.iceConnectionState)){if(Ae({"[RTC.onconnectionstatechange]":e}),n.peerConnectionTimeoutId)return;n.peerConnectionTimeoutId=setInterval((function(){++r>=6&&n.actions.setError({message:"\u0110\xe3 x\u1ea3y ra l\u1ed7i khi k\u1ebft n\u1ed1i \u0111\u1ebfn m\xe1y ch\u1ee7"})}),1e3)}},n.audioStarting||n.actions.waiting(),Promise.resolve(n.createOffer()).then((function(){}))}),(function(e){Ae("[RTC.createPeerConnection]: "+e),null!==e&&void 0!==e&&e.message&&We>=256&&n.actions.setError({message:"Cannot create peerConnection",detail:"peerConnectionLimit"})}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},this.createOffer=function(){try{if(!r.pc)return Promise.resolve();var e=!r.audioStarting&&(r.isSupportAudio||!1),t=!r.audioStarting;return Promise.resolve(r.pc.createOffer({offerToReceiveAudio:e,offerToReceiveVideo:t})).then((function(e){var t={id:"startViewer",cameraId:r.cameraId,viewerId:r.viewerId,sdpOffer:e.sdp};Ke.sendMessage(t),r.pc.setLocalDescription(e)}))}catch(n){return Promise.reject(n)}},this.acceptOffer=function(e,t){try{return Ae({"[RTC.acceptOffer]":a.pc}),a.pc?Promise.resolve(a.pc.setRemoteDescription({type:e,sdp:t})).then((function(){if(a.iceCandidateQueue.length>0)for(;a.iceCandidateQueue.length;){var e=a.iceCandidateQueue.shift();a.pc.addIceCandidate({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex})}a.audioStarting&&a.toggleAudio("startAudio")})):Promise.resolve()}catch(n){return Promise.reject(n)}},this.toggleAudio=function(e){var t={id:e,cameraId:i.cameraId,viewerId:i.viewerId};Ke.sendMessage(t)},this.toggleAlarm=function(e){var t={id:e,cameraId:i.cameraId,viewerId:i.viewerId};Ke.sendMessage(t)},this.close=function(){if(Ae("RTC.close cameraId: "+i.cameraId+", viewerId: "+i.viewerId),i.peerConnectionTimeoutId&&(clearInterval(i.peerConnectionTimeoutId),i.peerConnectionTimeoutId=void 0),i.pc){i.pc.close(),i.pc.onicecandidate=null,i.pc.ontrack=null,i.pc.onnegotiationneeded=null,i.pc.onconnectionstatechange=null,i.pc.onicegatheringstatechange=null,i.pc.onsignalingstatechange=null,i.pc=null;var e={id:"stop",cameraId:i.cameraId,viewerId:i.viewerId};Ke.sendMessage(e)}},this.cameraId=e.cameraId,this.viewerId=Object(Q.a)(),this.iceCandidateQueue=[],this.actions=e.actions,this.audioStarting=e.audioStarting,this.isSupportAudio=e.isSupportAudio,this.peerConnectionTimeoutId=0},qe=oe.NORMAL,Ue=oe.WARNING,Ze=function(e){function t(t){var n;return(n=e.call(this,t)||this).rtc=new _e({actions:n.props.actions,cameraId:n.props.cam.id,isSupportAudio:n.props.cam.isSupportAudio}),n.rtcAudio=null,n.startPlayer=function(e,t){return n.rtc?(Ke.addRtc(e||n.rtc.viewerId,t||n.rtc),t?t.initTrack(n.video):n.rtc.initTrack(n.video)):be("not found RTC")},n.stopPlayer=function(){var e,t;if(n.rtc)return Ae({"[Video.stopPlayer]":n.rtc}),n.rtc.close(),null===(e=n.rtcAudio)||void 0===e||e.close(),null===(t=n.rtcAudio)||void 0===t||t.stopAudioStream(),n.handlePause()},n.handleCanPlay=function(){if(n.video)return n.actions.canPlay()},n.handlePlaying=function(){if(n.video)return n.actions.playing()},n.handlePlay=function(){var e;if(null!==(e=n.rtc)&&void 0!==e&&e.pc)return n.video?(n.actions.play(),n.video.play()):be("Not found video")},n.handlePause=function(){return n.video?n.player.paused?void 0:(n.actions.pause(),n.video.pause()):be("Not found video")},n.handleCanPlayThrough=function(){if(n.video)return n.actions.canPlayThrough()},n.handleError=function(){Ae("[CPN.video]: handle error")},n.video=null,n}G(t,e);var n=t.prototype;return n.componentDidMount=function(){var e;console.log("componentDidMount",(null===Ke||void 0===Ke||null===(e=Ke.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN),this.startPlayer()},n.componentDidUpdate=function(e){var t;console.log("componentDidMount",(null===Ke||void 0===Ke||null===(t=Ke.ws)||void 0===t?void 0:t.readyState)===WebSocket.OPEN),console.log({prevProps:e.player,props:this.props.player})},n.componentWillUnmount=function(){this.stopPlayer()},n.renderContent=function(){var e=this,t=this.props,n=t.cam.status,r=t.player,i=r.error,o=r.isMuted,s=void 0!==o&&o;return console.log({state:Qe.getState().playerSlice}),n!==qe&&n!==Ue||i?a.a.createElement(De,{status:Ue,error:i,wsOpen:!0}):a.a.createElement(ze,{width:"100%",height:220,ref:function(t){return e.video=t},autoPlay:!0,muted:s,onError:this.handleError,onPlay:this.handlePlay,onPlaying:this.handlePlaying,onCanPlay:this.handleCanPlay,onPause:this.handlePause,onCanPlayThrough:this.handleCanPlayThrough})},n.render=function(){return a.a.createElement(He,null,this.renderContent())},Z(t,[{key:"actions",get:function(){return this.props.actions}},{key:"player",get:function(){return this.props.player}},{key:"muted",set:function(e){this.video&&(this.video.muted=e)}}]),t}(r.Component),Je=Object(S.a)("div")({width:"100%",background:"#000",height:0,transformStyle:"preserve-3d",paddingTop:"56.25%",maxHeight:"100%","&:hover div:last-child":{opacity:1,visibility:"visible"}}),Ge=function(e){function t(t){var n;return(n=e.call(this,t)||this).manager=new je,n.actions=n.manager.getActions(),n.getChildren=function(e){var t=J({},(Y(e),e));return re(n.getDefaultChildren(),[],t)},n.getDefaultChildren=function(){return[a.a.createElement(Ze,{key:"video",ref:function(e){n.manager.video=e},order:0}),a.a.createElement(ie,{key:"name",order:1}),a.a.createElement(le,{key:"loading",order:2}),a.a.createElement(Te,{key:"control-bar",order:3}),a.a.createElement(Ie,{key:"shortcut",order:4})]},n.handleStateChange=function(){n.forceUpdate()},n.manager.subscribeToPlayerStateChange(n.handleStateChange.bind($(n))),n}return G(t,e),t.prototype.render=function(){var e=this,t=this.manager.getState().playerSlice,n=J({},this.props,{player:t,actions:this.actions,manager:this.manager,store:this.manager.store}),r=this.getChildren(n);return a.a.createElement(Je,{ref:function(t){return e.manager.rootElement=t}},r)},t}(r.Component),Xe=Object(S.a)("div")({position:"absolute",width:"100%",height:"100%",outline:"none",top:0,left:0}),Ye=Object(S.a)("video")({display:"block",width:"100%",height:"100%",position:"absolute",outline:0,"&::-webkit-media-controls":{display:"none !important"}});function $e(e){var t=e.status,n=e.error,r="";return t===oe.ERROR&&(r="Camera \u0111ang l\u1ed7i"),t===oe.OFFLINE&&(r="Camera \u0111ang t\u1eaft"),n&&(r=n.message),a.a.createElement(Xe,null,a.a.createElement(h.a,{position:"absolute",top:"50%",left:"50%",color:"white",variant:"body2",sx:{transform:"translate(-50%, -50%)"}},r))}var et=oe.ERROR,tt=oe.NORMAL,nt=oe.OFFLINE,rt=oe.WARNING,at={backBufferLength:0,xhrSetup:function(e){e.setRequestHeader("Authorization","Bearer=VFkSwavnX6nrRM6Ha9P2crM0B7I0Ze3sJMBi9mfL"),e.setRequestHeader("user_id","62861e795faf626463105272")},debug:!0},it=function(e){function t(t){var n;return(n=e.call(this,t)||this).video=null,n.hls=null,n.onPauseVideo=function(){document.hidden&&n.play()},n.destroyHls=function(){n.hls&&n.hls.destroy()},n.resetHls=function(){n.destroyHls(),n.hls=new K.a(at)},n.startPlayer=function(e){if(n.hls){n.resetHls();var t=n.video;t&&(K.a.isSupported()&&(n.hls.detachMedia(),n.hls.attachMedia(t),n.hls.on(K.a.Events.MEDIA_ATTACHED,(function(){if(n.hls){var e=""+n.props.cam.id;n.hls.loadSource("/video/livestream/"+e+"/index.m3u8"),t.play().catch((function(e){return console.log(e)}))}}))),n.hls.on(K.a.Events.MANIFEST_PARSED,(function(){var n=t.play();void 0===n&&console.log("\ud83d\ude80 video.play() undefined",e),void 0!==n&&n.catch((function(e){return console.log({error:e})})).then((function(){console.log("\ud83d\ude80 Play")}))})))}},n.onPlay=function(){return n.handlePlay()},n.onPause=function(){return n.handlePause()},n.handleError=function(){Ae("\ud83d\ude80 ~ CPN.video: handle error")},n.handlePause=function(){!n.player.paused&&n.video&&n.pause()},n.handlePlay=function(){n.hls&&n.play()},n.play=function(){if(n.video){var e=n.video.play();void 0!==e&&e.catch((function(){n.video&&(n.video.pause(),n.actions.pause())})).then((function(){n.actions.play()}))}},n.pause=function(){n.video&&(n.actions.pause(),n.video.pause())},n.onSeeking=function(){Ae("\ud83d\ude80 ~ CPN.video: onSeeking"),n.video&&(n.actions.seeking(),n.video.play())},n.onSeeked=function(){Ae("\ud83d\ude80 ~ CPN.video: onSeeked"),n.video&&(n.actions.seeked(),n.play())},n.onEnded=function(){Ae("\ud83d\ude80 ~ CPN.video: onEnded")},n.onWaiting=function(){Ae("\ud83d\ude80 ~ CPN.video: onWaiting"),n.actions.waiting(),n.handlePause()},n.onCanPlay=function(){Ae("\ud83d\ude80 ~ CPN.video.onCanPlay"),n.video&&n.actions.canPlay()},n.onPlaying=function(){Ae("\ud83d\ude80 ~ CPN.video.onPlaying"),n.video&&n.actions.playing()},n.onCanPlayThrough=function(e){Ae({"\ud83d\ude80 ~ CPN.video.onCanPlayThrough":e}),n.video&&n.actions.canPlayThrough()},n.hls=t.cam.status===et||t.cam.status===nt?null:new K.a(at),n}G(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t;e.player.isFullscreen!==this.props.player.isFullscreen&&this.startPlayer(this.props.player.isFullscreen),null!==(t=this.props)&&void 0!==t&&t.player.error&&this.destroyHls()},n.componentDidMount=function(){var e,t=this;this.hls&&(null===(e=this.video)||void 0===e||e.addEventListener("pause",this.onPauseVideo),this.startPlayer(!1),K.a.isSupported()&&this.hls.on(K.a.Events.ERROR,(function(e,n){var r;if(t.hls&&n.fatal)switch(n.type){case K.a.ErrorTypes.NETWORK_ERROR:if(404===(null===(r=n.networkDetails)||void 0===r?void 0:r.status)){t.actions.setError({message:"Kh\xf4ng t\xecm th\u1ea5y t\u1ec7p"});break}console.log("fatal network error encountered, try to recover"),t.hls.startLoad();break;case K.a.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover",n),t.hls.recoverMediaError();break;default:console.log("fatal default",{data:n}),t.hls.startLoad()}})))},n.componentWillUnmount=function(){var e;null===(e=this.video)||void 0===e||e.removeEventListener("pause",this.onPauseVideo),this.destroyHls()},n.render=function(){var e=this,t=this.props,n=t.player,r=t.cam.status;return r!==tt&&r!==rt||n.error?a.a.createElement($e,{status:r,error:n.error,key:"video"}):a.a.createElement(Xe,null,a.a.createElement(Ye,{crossOrigin:"anonymous",ref:function(t){return e.video=t},muted:!0,autoPlay:!0,onSeeking:this.onSeeking,onSeeked:this.onSeeked,onEnded:this.onEnded,onError:this.handleError,onPlay:this.onPlay,onCanPlay:this.onCanPlay,onPause:this.onPause,onWaiting:this.onWaiting,onPlaying:this.onPlaying,onCanPlayThrough:this.onCanPlayThrough}))},Z(t,[{key:"actions",get:function(){return this.props.actions}},{key:"player",get:function(){return this.props.player}}]),t}(r.Component),ot=Object(z.b)({initialState:{paused:!0,isFullscreen:!1,waiting:!1,seeking:!1,error:null,showControlBar:!1},name:"player_record",reducers:{changeFullscreen:function(e,t){e.isFullscreen=t.payload},playToggle:function(e){e.paused=!e.paused},play:function(e){e.paused=!1,e.waiting=!1},playing:function(e){e.waiting=!1},canPlay:function(e){e.waiting=!1},canPlayThrough:function(e){e.waiting=!1},controlBarActive:function(e,t){e.showControlBar=t.payload},pause:function(e){e.paused=!0},seeking:function(e){e.seeking=!0},seeked:function(e){e.seeking=!1},waiting:function(e){e.waiting=!0},setError:function(e,t){e.error=t.payload}}}),st=ot.reducer,lt=ot.actions,ct={playerSlice:st};var ut={__proto__:null,snapshot:function(){var e=this.video.video;if(e){var t=e.videoHeight,n=e.videoWidth,r=document.createElement("canvas"),a=r.getContext("2d");if(a){r.width=n,r.height=t,a.fillRect(0,0,n,t),a.drawImage(e,0,0,n,t);var i=document.createElement("a");i.setAttribute("download","snapshot_"+(new Date).getTime()+".jpg"),i.setAttribute("href",r.toDataURL("image/URL").replace("image/png","image/octet-stream")),i.click()}}},toggleFullscreen:function(e,t){if(e)return Me.enabled&&(Me.isFullscreen?Me.exit():Me.request(e)),{type:"player_record/changeFullscreen",payload:!t.isFullscreen}}},dt=function(){function e(){this.store=Object(z.a)({reducer:ct,devTools:!1}),this.video=null,this.rootElement=null}var t=e.prototype;return t.getState=function(){return this.store.getState()},t.getActions=function(){var e=this,t=this.store.dispatch,n=Object.assign({},lt,ut);return Object.keys(n).filter((function(e){return"function"===typeof n[e]})).reduce((function(r,a){return r[a]=function(n){var r=e;return function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var o=n.apply(r,a);"undefined"!==typeof o&&t(o)}}(n[a]),r}),{})},t.subscribeToStateChange=function(e,t){t||(t=this.getState.bind(this));var n=t();this.store.subscribe((function(){var r=t();if(r!==n){var a=n;n=r,e(r,a)}}))},t.subscribeToPlayerStateChange=function(e){var t=this;return this.subscribeToStateChange(e,(function(){return t.getState().playerSlice}))},e}(),pt=Object(S.a)("div")({width:"100%",background:"#000",height:0,transformStyle:"preserve-3d",paddingTop:"56.25%",maxHeight:"100%","&:hover div:last-child":{opacity:1,visibility:"visible"}}),ht=function(e){function t(t){var n;return(n=e.call(this,t)||this).manager=new dt,n.actions=n.manager.getActions(),n.getChildren=function(e){var t=J({},(Y(e),e));return re(n.getDefaultChildren(),[],t)},n.renderControlBar=function(){return n.manager.getState().playerSlice.showControlBar?a.a.createElement(Te,{key:"control-bar",order:3}):a.a.createElement(a.a.Fragment,null)},n.getDefaultChildren=function(){return[a.a.createElement(it,{key:"video",ref:function(e){n.manager.video=e},order:0}),a.a.createElement(ie,{key:"name",order:1}),a.a.createElement(le,{key:"loading",order:2}),n.renderControlBar(),a.a.createElement(Ie,{key:"shortcut"})]},n.handleStateChange=function(){n.forceUpdate()},n.handleMouseEnter=function(){n.actions.controlBarActive(!0)},n.handleMouseLeave=function(){n.actions.controlBarActive(!1)},n.manager.subscribeToPlayerStateChange(n.handleStateChange.bind($(n))),n}return G(t,e),t.prototype.render=function(){var e=this,t=this.manager.getState().playerSlice,n=J({},this.props,{player:t,actions:this.actions,manager:this.manager,store:this.manager.store}),r=this.getChildren(n);return a.a.createElement(pt,{ref:function(t){return e.manager.rootElement=t},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r)},t}(r.Component),ft=function(e){return Object(r.createElement)(l.a,{i18n:c.a},Object(r.createElement)("h3",null,e.type),"hls"===e.type?Object(r.createElement)(ht,Object.assign({},e)):"rtc"===e.type?Object(r.createElement)(Ge,Object.assign({},e)):be("Lo\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"))},mt=(n(130),[{name:"P4 - Cam 6 - L\u1ea1c Long Qu\xe2n - Hai B\xe0 Tr\u01b0ng",lat:15.910633058361,lng:108.339717444143,address:"Ph\u01b0\u1eddng C\u1ea9m An, Th\xe0nh ph\u1ed1 H\u1ed9i An, T\u1ec9nh Qu\u1ea3ng Nam",ip:"192.168.20.166",portOnvif:"80",portRtsp:"554",isSharedLink:!1,status:"normal",isSupportAudio:!1,isSupportPtz:!0,recordMaxKeepDay:0,isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSyncDateTime:!1,id:"64006db163a8b81e520f960d"},{address:"Ph\u01b0\u1eddng C\u1ea9m Ph\xf4, Th\xe0nh ph\u1ed1 H\u1ed9i An, T\u1ec9nh Qu\u1ea3ng Nam",id:"6400673b63a8b81e520f95c3",ip:"192.168.20.181",isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSharedLink:!1,isSupportAudio:!0,isSupportPtz:!0,isSyncDateTime:!0,lat:15.879233012730094,lng:108.32115878537732,name:"P2 - Cam 1 - H\xf9ng V\u01b0\u01a1ng 18/8",portOnvif:"80",portRtsp:"554",recordMaxKeepDay:0,status:"normal"},{name:"P4 - Cam 6 - L\u1ea1c Long Qu\xe2n - Hai B\xe0 Tr\u01b0ng",lat:15.910633058361,lng:108.339717444143,address:"Ph\u01b0\u1eddng C\u1ea9m An, Th\xe0nh ph\u1ed1 H\u1ed9i An, T\u1ec9nh Qu\u1ea3ng Nam",ip:"192.168.20.166",portOnvif:"80",portRtsp:"554",isSharedLink:!1,status:"normal",isSupportAudio:!1,isSupportPtz:!0,recordMaxKeepDay:0,isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSyncDateTime:!1,id:"640068a163a8b81e520f95cd"},{name:"Th\u1ecd Quang 2",lat:16.0987219824992,lng:108.243948894409,address:"Ph\u01b0\u1eddng Th\u1ecd Quang, Qu\u1eadn S\u01a1n Tr\xe0, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6357b50f78337e74066777a7"},{name:"Th\u1ecd Quang 3",lat:16.0980622624656,lng:108.241502719788,address:"Ph\u01b0\u1eddng Th\u1ecd Quang, Qu\u1eadn S\u01a1n Tr\xe0, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6357b76b78337e74066777ab"},{name:"VMS H\u1ea3i Ch\xe2u - Tr\u1ea7n Ph\xfa - H\xf9ng V\u01b0\u01a1ng",lat:16.06863003837401,lng:108.22387398127579,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6371b23a79071a09c354b653"},{name:"VMS H\u1ea3i Ch\xe2u - Tr\u1ea7n Ph\xfa - Tr\u1ea7n Qu\u1ed1c To\u1ea3n",lat:16.064984248098614,lng:108.22358363214992,address:"Ph\u01b0\u1eddng Ph\u01b0\u1edbc Ninh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6371b1ec79071a09c354b650"},{name:"VMS H\u1ea3i Ch\xe2u - Tr\u1ea7n Qu\u1ed1c To\u1ea3n - B\u1ea1ch \u0110\u1eb1ng",lat:16.0649326987999,lng:108.224124767819,address:"Ph\u01b0\u1eddng Ph\u01b0\u1edbc Ninh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6371b17c79071a09c354b64d"},{name:"V\u1eadn h\xe0nh - 233 Tr\u01b0ng N\u1eef V\u01b0\u01a1ng",lat:16.0593720365003,lng:108.22243757811,address:"Ph\u01b0\u1eddng Thanh B\xecnh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:7,id:"6336a6fc02805b3ff3453c04"},{name:"V\u1eadn h\xe0nh - 235 N\xfai Th\xe0nh",lat:16.0544402009763,lng:108.2202016295,address:"Ph\u01b0\u1eddng Th\u1ea1ch Thang, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"635106d8787f615c86cf10a4"},{name:"V\u1eadn h\xe0nh - 236 N\xfai Th\xe0nh",lat:16.0544941299203,lng:108.220195578897,address:"Ph\u01b0\u1eddng Thanh B\xecnh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"6371a49e79071a09c354b64a"},{name:"V\u1eadn h\xe0nh - 237 Tr\u01b0ng N\u1eef V\u01b0\u01a1ng",lat:16.0545308028725,lng:108.219887589853,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"635107c7787f615c86cf10a7"},{name:"danateq",lat:16.068001444254943,lng:108.20167728033451,address:"Ph\u01b0\u1eddng Thu\u1eadn Ph\u01b0\u1edbc, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"10.49.46.123",portOnvif:"80",portRtsp:"554",isSharedLink:!1,status:"normal",isSupportAudio:!0,isSupportPtz:!0,recordMaxKeepDay:0,isEnabledMic:!0,isEnabledPTZ:!0,isEnabledSpeaker:!0,isSyncDateTime:!0,id:"643908ae645ee75c47b4a9d3"},{name:"test",lat:16.065857014669938,lng:108.18253703680423,address:"Ph\u01b0\u1eddng Thanh B\xecnh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"116.103.18.188",portOnvif:"8095",portRtsp:"8562",isSharedLink:!1,status:"normal",isSupportAudio:!1,isSupportPtz:!0,recordMaxKeepDay:0,isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSyncDateTime:!0,id:"6440b3169da9531dd912090e"},{name:"test2",lat:16.065857014669938,lng:108.18253703680423,address:"Ph\u01b0\u1eddng Chi\u1ec1ng L\u1ec1, Th\xe0nh ph\u1ed1 S\u01a1n La, T\u1ec9nh S\u01a1n La",ip:"116.103.18.188",portOnvif:"8094",portRtsp:"8563",isSharedLink:!1,status:"offline",isSupportAudio:!1,isSupportPtz:!0,recordMaxKeepDay:0,isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSyncDateTime:!1,id:"6440b1a9af6752891229a3d7"},{name:"tets",lat:16.06396,lng:108.213479,address:"Ph\u01b0\u1eddng Thanh B\xecnh, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,isEnabledMic:!1,isEnabledPTZ:!1,isEnabledSpeaker:!1,isSyncDateTime:!1,id:"644b1c7399ee3138497bb76d"},{name:"\u0110\u1ebfm l\u01b0u l\u01b0\u1ee3ng - 12 H\xe0 Huy T\u1eadp 3",lat:16.0592211441519,lng:108.185961023323,address:"Ph\u01b0\u1eddng H\xf2a Kh\xea, Qu\u1eadn Thanh Kh\xea, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"636b4a94854ba11c89d117f8"},{name:"\u0110\u1ebfm l\u01b0u l\u01b0\u1ee3ng - 14 H\xe0 Huy T\u1eadp",lat:16.0591305728587,lng:108.186001449408,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:7,id:"63350b023cc4e4ac51ec2c0d"},{name:"\u0110\u1ed7 xe - 06 Tr\u1ea7n Ph\xfa",lat:16.0816163199656,lng:108.222665020255,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",isSharedLink:!0,status:"normal",recordMaxKeepDay:7,isSupportAudio:!1,isSupportPtz:!0,id:"6316cc5231cf54f0baddeb1e"},{name:"\u0110\u1ed7 xe - 17 Tr\u1ea7n Ph\xfa",lat:16.0805818670547,lng:108.222919281052,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:0,id:"63510e8c787f615c86cf10b6"},{name:"\u0110\u1ed7 xe - 241 Tr\u01b0ng N\u1eef V\u01b0\u01a1ng",lat:16.0550875220744,lng:108.220134344344,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",isSharedLink:!0,status:"offline",recordMaxKeepDay:7,isSupportAudio:!1,isSupportPtz:!1,id:"6316cc7f31cf54f0baddeb1f"},{name:"\u0110\u1ed7 xe - 242 Tr\u01b0ng N\u1eef V\u01b0\u01a1ng",lat:16.0545730313673,lng:108.219923176605,address:"Ph\u01b0\u1eddng H\u1ea3i Ch\xe2u I, Qu\u1eadn H\u1ea3i Ch\xe2u, Th\xe0nh ph\u1ed1 \u0110\xe0 N\u1eb5ng",ip:"",portOnvif:"",portRtsp:"",isSharedLink:!0,status:"offline",isSupportAudio:!1,isSupportPtz:!1,recordMaxKeepDay:7,id:"6335083d3cc4e4ac51ec2bfc"}]),gt=function(){var e=function(e){var t=e.token,n=e.serverAddress,a=Object(r.useState)(!1),i=a[0],o=a[1];return Object(r.useEffect)((function(){Ke.connect({serverAddress:n,debug:!0}),Ke.ws&&(Ke.ws.onopen=function(){try{return Promise.resolve(Ke.wsAuth(t)).then((function(){o(!0)}))}catch(e){return Promise.reject(e)}})}),[]),{wsOpen:i}}({token:"fmudHuF0sniGQRxgmw16ODFyhCsX5vMeQ5EmJENc",serverAddress:"wss://dev.danateq.vn/signaling"}).wsOpen;return void 0!==e&&e?a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement("h2",null,"Demo Create react library"),a.a.createElement("div",{style:{width:560}},a.a.createElement(ft,{type:"hls",cam:{id:mt[1].id,name:mt[1].name,status:"normal"}}),a.a.createElement("p",null),a.a.createElement(ft,{type:"rtc",cam:{id:mt[12].id,name:mt[12].name,status:"normal"}}))):null};o.a.render(a.a.createElement(gt,null),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.af5baf60.chunk.js.map